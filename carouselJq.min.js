$(document).ready(function(){$.fn.carousel=function(s){this.each(function(){c=new Carousel(this,s)})}});var Carousel=function(s,i){this.$carousel=$(s),this.setup(i)};Carousel.prototype.setup=function(s){if($carousel=this.$carousel,$slides=$carousel.find(".slides"),max=$slides.find(".slide").length,slidesWidth=100*max,$slides.css("position","relative"),$slides.css("width",slidesWidth+"%"),$slides.children("img").each(function(){$images=$(this),imgWidth=100/max,$images.css("width",imgWidth+"%"),$images.css("float","left")}),void 0!=s&&(s.btns&&1==s.btns&&this.addBtns(),s.autoplay&&!isNaN(s.autoplay))){var i=this;setInterval(function(){i.nextSlide()},s.autoplay)}},Carousel.prototype.goToSlide=function(s){$carousel=this.$carousel,newPos=s-1,widthOfSlide=$carousel.find(".slide").first().width(),leftPix=newPos*widthOfSlide,left="-"+leftPix+"px",$carousel.data("position",newPos),$carousel.find(".slides").animate({left:left},500)},Carousel.prototype.nextSlide=function(){$carousel=this.$carousel,pos=$carousel.data("position"),slideNum=pos+1,numSlides=$carousel.find(".slide").length,pos<numSlides-1?(newPos=pos+1,newSlideNum=slideNum+1):(newPos=0,newSlideNum=1),this.goToSlide(newSlideNum),$carousel.find(".slide-btn").removeClass("active"),$($carousel.find(".slide-btn").get(newPos)).addClass("active")},Carousel.prototype.addBtns=function(){if($carousel=this.$carousel,$slides=$carousel.find(".slides"),$numSlides=$slides.find(".slide").length,slideBtns="<div class='slide-btns'>",$numSlides>1){for(var s=0;s<$numSlides;s++)slideBtns+="<div data-position='"+s+"' class='slide-btn",0==s&&(slideBtns+=" active"),slideBtns+="'></div>";slideBtns+="</div>",$carousel.append(slideBtns),$slideBtns=$carousel.find(".slide-btn");var i=this;$slideBtns.click(function(){$btn=$(this),$siblings=$btn.siblings(".slide-btn"),$siblings.removeClass("active"),$btn.addClass("active"),newSlideNum=$btn.data("position")+1,i.goToSlide(newSlideNum)})}};
